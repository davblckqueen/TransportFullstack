<mat-card class="mat-elevation-z3">
  <mat-card-title>Make an Quotation</mat-card-title>
  <mat-card-subtitle>Add a <strong>start</strong> and <strong>end</strong> locations</mat-card-subtitle>
  <mat-card-content>
    <form *ngIf="countries.length > 0">
      <mat-grid-list cols="4" rowHeight="100px">
        <mat-grid-tile
          [colspan]="3"
          [rowspan]="1">
          <mat-form-field class="example-full-width"  appearance="outline">
            <mat-label>Country</mat-label>
            <input matInput
                   aria-label="Country"
                   [matAutocomplete]="auto"
                   [formControl]="countryCtrlA">
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let country of filteredCountriesA | async" [value]="country.emoji + country.name">
                <div (click)="onCountry($event, country)">
                  <span>{{country.emoji}}</span>
                  <span>{{country.name}}</span> |
                  <small>code: {{country.iso3}}</small>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field class="example-full-width"  appearance="outline" *ngIf="drawState">
            <mat-label>State</mat-label>
            <input matInput
                   aria-label="State"
                   [matAutocomplete]="auto"
                   [formControl]="stateCtrlA">
            <mat-autocomplete #auto="matAutocomplete" >
              <mat-option *ngFor="let state of filteredStatesA | async" [value]="state.name">
                <div (click)="onState($event, state)">
                  <span>{{state.name}}</span> |
                  <small>code: {{state.state_code}}</small>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field class="example-full-width"  appearance="outline" *ngIf="drawCity">
            <mat-label>City</mat-label>
            <input matInput
                   aria-label="City"
                   [matAutocomplete]="auto"
                   [formControl]="cityCtrlA">
            <mat-autocomplete #auto="matAutocomplete" >
              <mat-option *ngFor="let city of filteredCitiesA | async" [value]="city.name">
                <div (click)="onCity($event, city)">
                  <span>{{city.name}}</span>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile
          [colspan]="1"
          [rowspan]="3">
          <button mat-flat-button color="primary" (click)="onSubmit()">SUBMIT</button>
        </mat-grid-tile>
        <mat-grid-tile
          [colspan]="3"
          [rowspan]="1">
          <mat-form-field class="example-full-width"  appearance="outline">
            <mat-label>CountryB</mat-label>
            <input matInput
                   aria-label="CountryB"
                   [matAutocomplete]="autoB"
                   [formControl]="countryCtrlB">
            <mat-autocomplete #autoB="matAutocomplete">
              <mat-option *ngFor="let countryB of filteredCountriesB | async" [value]="countryB.emoji + countryB.name">
                <div (click)="onCountryB($event, countryB)">
                  <span>{{countryB.emoji}}</span>
                  <span>{{countryB.name}}</span> |
                  <small>code: {{countryB.iso3}}</small>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field class="example-full-width"  appearance="outline" *ngIf="drawStateB">
            <mat-label>State</mat-label>
            <input matInput
                   aria-label="State"
                   [matAutocomplete]="autoB"
                   [formControl]="stateCtrlB">
            <mat-autocomplete #autoB="matAutocomplete" >
              <mat-option *ngFor="let stateB of filteredStatesB | async" [value]="stateB.name">
                <div (click)="onStateB($event, stateB)">
                  <span>{{stateB.name}}</span> |
                  <small>code: {{stateB.state_code}}</small>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <mat-form-field class="example-full-width"  appearance="outline" *ngIf="drawCityB">
            <mat-label>City</mat-label>
            <input matInput
                   aria-label="City"
                   [matAutocomplete]="autoB"
                   [formControl]="cityCtrlB">
            <mat-autocomplete #autoB="matAutocomplete" >
              <mat-option *ngFor="let cityB of filteredCitiesB | async" [value]="cityB.name">
                <div (click)="onCityB($event, cityB)">
                  <span>{{cityB.name}}</span>
                </div>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </mat-grid-tile>
        <mat-grid-tile
          [colspan]="3"
          [rowspan]="1">
          <mat-form-field class="example-full-width" appearance="outline" >
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" (click)="picker.open()" (dateChange)="EndDateChange($event)">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </mat-grid-tile>
      </mat-grid-list>
    </form>
  </mat-card-content>
</mat-card>
